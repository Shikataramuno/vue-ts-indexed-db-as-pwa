(function(t){function e(e){for(var r,i,a=e[0],c=e[1],u=e[2],l=0,p=[];l<a.length;l++)i=a[l],n[i]&&p.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],r=!0,a=1;a<o.length;a++){var c=o[a];0!==n[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=o[0]))}return t}var r={},n={app:0},s=[];function i(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=r,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var d=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("cd49")},"034f":function(t,e,o){"use strict";var r=o("64a9"),n=o.n(r);n.a},"64a9":function(t,e,o){},7466:function(t,e,o){},cd49:function(t,e,o){"use strict";o.r(e);var r=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("TodoList")],1)},s=[],i=o("9ab4"),a=o("60a3"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-view"},[o("div",{staticClass:"pc"},[o("b-row",{staticClass:"edit-box"},[o("b-col",{attrs:{cols:"3"}},[o("label",{staticClass:"title"},[t._v("「やらなぁ~ あかんこと」を追加 ")])]),o("b-col",{attrs:{cols:"2"}},[o("form",{attrs:{id:"tag"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],staticClass:"edit-tag",attrs:{type:"text",placeholder:"タグ"},domProps:{value:t.tag},on:{input:function(e){e.target.composing||(t.tag=e.target.value)}}})])]),o("b-col",{attrs:{cols:"2"}},[o("form",{attrs:{id:"todo"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo,expression:"todo"}],staticClass:"edit-todo",attrs:{type:"text",placeholder:"やらなぁ~ あかんこと"},domProps:{value:t.todo},on:{input:function(e){e.target.composing||(t.todo=e.target.value)}}})])]),o("b-col",{attrs:{cols:"2"}},[o("b-button",{staticClass:"add-button",attrs:{variant:"success"},on:{click:t.addTodo}},[t._v("追加")])],1),o("b-col",{attrs:{cols:"3"}})],1),o("b-row",{staticClass:"query-box"},[o("b-col",{attrs:{cols:"3"}},[o("label",{staticClass:"title"},[t._v("「やらなぁ~ あかんこと」を検索")])]),o("b-col",{attrs:{cols:"2"}},[o("form",{attrs:{id:"search"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"filter",attrs:{type:"text",placeholder:"フィルタ"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})])]),o("b-col",{attrs:{cols:"7"}})],1),o("div",{staticClass:"table-row header"},[o("div",{staticClass:"wrapper attributes header"},t._l(t.columns,function(e,r){return o("div",{key:r,class:[{active:t.sortKey===e},e,"header"],on:{click:function(o){return t.sortBy(e)}}},[o("span","id"===e?[t._v("ID")]:"tag"===e?[t._v("タグ")]:"todo"===e?[t._v("やらなぁ~あかんこと")]:"complete"===e?[t._v("完了（✓）")]:[t._v("削除")]),o("span",{staticClass:"arrow",class:t.sortOrders[e]>0?"asc":"dsc"})])}),0)])],1),o("div",{staticClass:"mobile"},[o("b-row",{staticClass:"edit-box"},[o("label",{staticClass:"title"},[t._v("「やらなぁ~ あかんこと」を追加 ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],staticClass:"edit-tag",attrs:{type:"text",placeholder:"タグ"},domProps:{value:t.tag},on:{input:function(e){e.target.composing||(t.tag=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo,expression:"todo"}],staticClass:"edit-todo",attrs:{type:"text",placeholder:"やらなぁ~ あかんこと"},domProps:{value:t.todo},on:{input:function(e){e.target.composing||(t.todo=e.target.value)}}}),o("div",{staticClass:"edit-button"},[o("b-button",{staticClass:"add-button",attrs:{variant:"success"},on:{click:t.addTodo}},[t._v("追加")])],1)]),o("div",{staticClass:"sepalator"}),o("b-row",{staticClass:"query-box"},[o("label",{staticClass:"title"},[t._v("「やらなぁ~ あかんこと」を検索")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"filter",attrs:{name:"query",placeholder:"フィルタ文字列"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})]),o("div",{staticClass:"sepalator"}),o("b-container",{staticClass:"table-row header"},[o("label",{staticClass:"title"},[t._v("「やらなぁ~ あかんこと」の一覧")]),o("b-dropdown",{staticClass:"sorter",attrs:{id:"ddown-buttons",split:"",right:"",variant:"success",size:"sm"}},[o("template",{slot:"button-content"},["id"===t.sortKey?o("span",[t._v("ID")]):"tag"===t.sortKey?o("span",[t._v("タグ")]):"todo"===t.sortKey?o("span",[t._v("やらなぁ~あかんこと")]):o("span",[t._v("完了（✓）")]),o("span",{staticClass:"arrow",class:t.sortOrders[t.sortKey]>0?"asc":"dsc"})]),t._l(t.columns,function(e,r){return o("b-dropdown-item",{key:r,class:[{active:t.sortKey===e},{focus:t.sortKey==e}],on:{click:function(o){return t.sortBy(e)}}},["id"===e?o("span",[t._v("ID")]):"tag"===e?o("span",[t._v("タグ")]):"todo"===e?o("span",[t._v("やらなぁ~あかんこと")]):"complete"===e?o("span",[t._v("完了（✓）")]):t._e()])})],2)],1)],1),o("div",{staticClass:"data-field"},t._l(t.Todos,function(e,r){return o("div",{key:r},[o("div",{staticClass:"table-row data",style:[t.selectedId===e.id?t.styleForSelectedRow:r%2===0?t.styleForNonSelectedEvenRow:t.styleForNonSelectedOddRow],on:{click:function(o){return t.edit(e.id)}}},[o("div",{staticClass:"wrapper attributes data"},t._l(t.columns,function(r,n){return o("div",{key:n,class:[r]},[o("span",{staticClass:"mobile-title"},"id"===r?[t._v("【ID】")]:"tag"===r?[t._v("【タグ】")]:"todo"===r?[t._v("【やらなぁ~あかんこと】"),o("br")]:"complete"===r?[t._v("【完了（✓）】")]:[t._v("【削除】")]),"complete"===r?o("span",{staticClass:"complete-checkbox-span"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.complete,expression:"todo.complete"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.complete)?t._i(e.complete,null)>-1:e.complete},on:{change:[function(o){var r=e.complete,n=o.target,s=!!n.checked;if(Array.isArray(r)){var i=null,a=t._i(r,i);n.checked?a<0&&t.$set(e,"complete",r.concat([i])):a>-1&&t.$set(e,"complete",r.slice(0,a).concat(r.slice(a+1)))}else t.$set(e,"complete",s)},function(o){return t.completed(e)}]}}),t._v("\n              終わったらチェック！\n              ")])]):"delete"===r?o("span",{staticClass:"delete-button-span"},[o("b-button",{staticClass:"delete-button",attrs:{variant:"success"},on:{click:function(o){return t.deleteTodo(e)}}},[t._v("\n                  削除\n              ")])],1):o("span",{staticClass:"content",class:[r]},[t._v("\n                "+t._s(e[r])+"\n            ")])])}),0)])])}),0)])},u=[],d=function(){function t(t,e,o,r){this.id=-1,this.tag="",this.todo="",this.complete=!1,this.id=t,this.tag=e,this.todo=o,this.complete=r}return t.prototype.isIncluded=function(t){return this.todo.indexOf(t)>-1||this.tag.indexOf(t)>-1},t.prototype.isComplete=function(){return this.complete},t.prototype.getValue=function(t){return this[t]},t}(),l=d,p=function(){function t(){this.todos=[],this.dbName="TodosDb",this.todosObjectStore="Todos"}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.init=function(){return i["a"](this,void 0,Promise,function(){var t;return i["d"](this,function(e){switch(e.label){case 0:return[4,this.connectDb()];case 1:return e.sent(),t=this,[4,this.retrieveTodos()];case 2:return t.todos=e.sent(),[2]}})})},t.prototype.getTodos=function(){return this.todos},t.prototype.addTodo=function(t){return i["a"](this,void 0,Promise,function(){var e;return i["d"](this,function(o){switch(o.label){case 0:return[4,this.add(t)];case 1:return o.sent(),e=this,[4,this.retrieveTodos()];case 2:return e.todos=o.sent(),[2]}})})},t.prototype.updateTodo=function(t){return i["a"](this,void 0,Promise,function(){var e;return i["d"](this,function(o){switch(o.label){case 0:return[4,this.update(t)];case 1:return o.sent(),e=this,[4,this.retrieveTodos()];case 2:return e.todos=o.sent(),[2]}})})},t.prototype.deleteTodo=function(t){return i["a"](this,void 0,Promise,function(){var e;return i["d"](this,function(o){switch(o.label){case 0:return[4,this.delete(t)];case 1:return o.sent(),e=this,[4,this.retrieveTodos()];case 2:return e.todos=o.sent(),[2]}})})},t.prototype.connectDb=function(){return i["a"](this,void 0,Promise,function(){var t,e=this;return i["d"](this,function(o){return t=new Promise(function(t,o){var r=window.indexedDB.open(e.dbName,1);r.onsuccess=function(o){e.db=o.target.result,t("success to open db")},r.onerror=function(t){var e="fails to open db";o(e)},r.onupgradeneeded=function(t){var o=t.target;e.db=o.result,e.db.objectStoreNames.contains(e.todosObjectStore)&&e.db.deleteObjectStore(e.todosObjectStore),e.db.createObjectStore(e.todosObjectStore,{autoIncrement:!0})}}),[2,t]})})},t.prototype.retrieveTodos=function(){return i["a"](this,void 0,Promise,function(){var t,e=this;return i["d"](this,function(o){return t=new Promise(function(t,o){var r=e.db.transaction(e.todosObjectStore,"readwrite").objectStore(e.todosObjectStore),n=IDBKeyRange.lowerBound(0),s=r.openCursor(n),i=[];s.onsuccess=function(e){var o=e.target.result;if(o){var r=o.value,n=new l(Number(o.key),r.tag,r.todo,r.complete);i.push(n),o.continue()}else t(i)},s.onerror=function(t){o(t)}}),[2,t]})})},t.prototype.add=function(t){return i["a"](this,void 0,Promise,function(){var e,o=this;return i["d"](this,function(r){return e=new Promise(function(e,r){var n=Math.max.apply(Math,o.todos.map(function(t){return t.id}));t.id=Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n+1:0;var s=o.db.transaction(o.todosObjectStore,"readwrite");s.onerror=function(t){r(t)},s.oncomplete=function(t){e("transaction add complete")},s.objectStore(o.todosObjectStore).add(t)}),[2,e]})})},t.prototype.update=function(t){return i["a"](this,void 0,Promise,function(){var e,o=this;return i["d"](this,function(r){return e=new Promise(function(e,r){var n=t.id,s=o.db.transaction(o.todosObjectStore,"readwrite");s.onerror=function(t){r(t)},s.oncomplete=function(t){e("transaction add complete")},s.objectStore(o.todosObjectStore).put(t,n)}),[2,e]})})},t.prototype.delete=function(t){return i["a"](this,void 0,Promise,function(){var e,o=this;return i["d"](this,function(r){return e=new Promise(function(e,r){var n=t.id,s=o.db.transaction(o.todosObjectStore,"readwrite");s.onerror=function(t){r(t)},s.oncomplete=function(t){e("transactio delete complete")},s.objectStore(o.todosObjectStore).delete(n)}),[2,e]})})},t}(),f=p,h=function(){function t(){this.id=1,this.tag=1,this.todo=1,this.progress=1,this.complete=1}return t.prototype.selectKey=function(t){switch(t){case"id":this.id*=-1;break;case"tag":this.tag*=-1;break;case"todo":this.todo*=-1;break;case"complete":this.complete*=-1;break;case"progress":this.progress*=-1;break}},t.prototype.getOrder=function(t){return this[t]},t}(),v=h,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="TodoList",e.columns=["id","tag","todo","complete","delete"],e.styleForSelectedRow={"background-color":"#C0C0C0"},e.styleForNonSelectedEvenRow={"background-color":"#FFFFFF"},e.styleForNonSelectedOddRow={"background-color":"#F5F5F5"},e.sortOrders=new v,e.todos=f.getInstance(),e.searchQuery="",e.sortKey="キー",e.selectedId=-1,e.tag="",e.todo="",e}return i["c"](e,t),Object.defineProperty(e.prototype,"Todos",{get:function(){var t=this,e=this.todos.getTodos(),o=this.searchQuery&&this.searchQuery.toLowerCase();o&&(e=e.filter(function(t){return t.isIncluded(o)}));var r=this.sortOrders.getOrder(this.sortKey)||-1;return e=e.slice().sort(function(e,o){var n=e.getValue(t.sortKey),s=o.getValue(t.sortKey);return(n===s?0:n>s?1:-1)*r}),e},enumerable:!0,configurable:!0}),e.prototype.sortBy=function(t){this.sortKey=t,this.sortOrders.selectKey(this.sortKey)},e.prototype.edit=function(t){this.selectedId=t},e.prototype.addTodo=function(){return i["a"](this,void 0,Promise,function(){return i["d"](this,function(t){switch(t.label){case 0:return[4,this.todos.addTodo(new l(0,this.tag,this.todo,!1))];case 1:return t.sent(),this.tag=this.todo="",[2]}})})},e.prototype.deleteTodo=function(t){return i["a"](this,void 0,Promise,function(){return i["d"](this,function(e){switch(e.label){case 0:return[4,this.todos.deleteTodo(t)];case 1:return e.sent(),[2]}})})},e.prototype.completed=function(t){var e=this;this.$nextTick(function(){e.todos.updateTodo(t)})},e.prototype.created=function(){return i["a"](this,void 0,Promise,function(){return i["d"](this,function(t){switch(t.label){case 0:return[4,this.todos.init()];case 1:return t.sent(),[2]}})})},e=i["b"]([a["a"]],e),e}(a["b"]),m=b,y=m,g=(o("e370"),o("2877")),w=Object(g["a"])(y,c,u,!1,null,"783a0970",null),_=w.exports,C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["c"](e,t),e=i["b"]([Object(a["a"])({components:{TodoList:_}})],e),e}(a["b"]),O=C,j=O,k=(o("034f"),Object(g["a"])(j,n,s,!1,null,null,null)),S=k.exports,x=o("9483");Object(x["a"])("/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var P=o("5f5b");o("f9e3"),o("2dd8");r["default"].use(P["a"]),r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(S)}}).$mount("#app")},e370:function(t,e,o){"use strict";var r=o("7466"),n=o.n(r);n.a}});
//# sourceMappingURL=app.2767396d.js.map